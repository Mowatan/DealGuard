# Database
DATABASE_URL="postgresql://fouad:fouad_dev_pass@localhost:5432/fouad_ai"

# Redis
REDIS_URL="redis://localhost:6379"

# MinIO (S3)
MINIO_ENDPOINT="localhost"
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY="admin"
MINIO_SECRET_KEY="adminpassword"
MINIO_BUCKET_DOCUMENTS="fouad-documents"
MINIO_BUCKET_EVIDENCE="fouad-evidence"

# Storage Configuration
# Enable local filesystem fallback when MinIO is unavailable
# Set to 'true' in development (no MinIO required), 'false' in production (fail fast)
STORAGE_FALLBACK_ENABLED="true"
# Base path for local file storage (used when fallback is active)
STORAGE_LOCAL_PATH="/app/uploads"
# Public URL for accessing locally stored files (no trailing slash)
PUBLIC_URL="http://localhost:4000"

# Email - Mailgun HTTP API Configuration
# Sign up at https://www.mailgun.com and add your domain
# Get API key from: Mailgun Dashboard → Settings → API Keys
# IMPORTANT: Use HTTP API (not SMTP) - Railway blocks outbound SMTP connections
MAILGUN_API_KEY="key-your-mailgun-api-key-here"
MAILGUN_DOMAIN="mg.dealguard.org"
EMAIL_FROM="DealGuard <noreply@dealguard.org>"
INBOUND_EMAIL_DOMAIN="dealguard.org"

# Email Testing Mode
# When true, all emails are sent to EMAIL_TEST_RECIPIENT instead of actual recipients
# Set to false in production
EMAIL_TEST_MODE="true"
EMAIL_TEST_RECIPIENT="your-test-email@example.com"

# Admin Notifications
# Email address to receive admin notifications for new users and deals
ADMIN_EMAIL="trust@dealguard.org"

# Webhook for inbound email (optional)
# Used for receiving emails at deal-specific addresses (e.g., D-2025-001@dealguard.org)
INBOUND_EMAIL_WEBHOOK_SECRET="your-webhook-secret"

# Legacy SMTP Configuration (deprecated - kept for reference)
# Note: SMTP is blocked on Railway and other PaaS providers
# Use MAILGUN_API_KEY instead
# SMTP_HOST="smtp.mailgun.org"
# SMTP_PORT=587
# SMTP_USER="postmaster@dealguard.org"
# SMTP_PASSWORD="your-mailgun-smtp-password"

# JWT
JWT_SECRET="your-super-secret-jwt-key-change-in-production"

# Clerk Authentication
# Get your keys from: https://dashboard.clerk.com/last-active?path=api-keys
# IMPORTANT: Use PRODUCTION keys (sk_live_... / pk_live_...) in production
CLERK_SECRET_KEY="sk_test_or_sk_live_your_key_here"
CLERK_PUBLISHABLE_KEY="pk_test_or_pk_live_your_key_here"

# Optional: Custom Clerk Domain Configuration
# Only needed if using a custom Clerk domain (e.g., clerk.yourdomain.com)
# CLERK_API_URL="https://clerk.dealguard.org"
# CLERK_JWKS_URL="https://clerk.dealguard.org/.well-known/jwks.json"

# Note: By default, Clerk SDK automatically resolves JWKS URL from your keys.
# Only set these if you have a custom Clerk domain configured in Clerk dashboard.

# Blockchain
ETHEREUM_RPC_URL="https://sepolia.infura.io/v3/YOUR_INFURA_KEY"
ETHEREUM_PRIVATE_KEY="your-private-key-for-anchor-submissions"
ANCHOR_CONTRACT_ADDRESS="0x..."

# AI (Claude API)
# Get your API key from: https://console.anthropic.com
ANTHROPIC_API_KEY="sk-ant-api03-your-key-here"

# Server
PORT=4000
NODE_ENV="development"

# Frontend URL (for email invitation links and CORS)
# Can be comma-separated for multiple origins in production
# Example: "https://dealguard.org,https://www.dealguard.org,https://preview.vercel.app"
FRONTEND_URL="http://localhost:3000"
